{"version":3,"sources":["../../src/pages/dashboard/dashboard.module.ts","../../src/pages/dashboard/dashboard.ts"],"names":[],"mappings":"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","file":"11.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DashboardPage } from './dashboard';\n\n@NgModule({\n  declarations: [\n    DashboardPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DashboardPage),\n  ],\n  exports: [\n    DashboardPage\n  ]\n})\nexport class DashboardPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/dashboard.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, PopoverController, ModalController, Platform } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service';\nimport { ProjectService } from '../../providers/project-service';\n\n@IonicPage({\n  name: 'dashboard'\n})\n@Component({\n  selector: 'page-dashboard',\n  templateUrl: 'dashboard.html'\n})\nexport class DashboardPage {\n  user: any;\n  viewMode = 'CLIENT';\n  projects: Array<any>;\n  tab = 'IN_PROGRESS';\n  tabs: any;\n  types = {\n    BEDROOM: 'Bedroom',\n    LIVING_ROOM: 'Living Room',\n    MULTIPURPOSE_ROOM: 'Open Layout',\n    STUDIO: 'Studio',\n    DINING_ROOM: 'Dining Room',\n    HOME_OFFICE: 'Office'\n  };\n  phases = {\n    DETAILS: 'Details',\n    DESIGN: 'Design',\n    CONCEPTS: 'Concepts',\n    FLOOR_PLAN: 'Floor Plan',\n    REQUEST_ALTERNATIVES: 'Request Alternatives',\n    ALTERNATIVES_READY: 'Alternatives Ready',\n    FINAL_DELIVERY: 'Final Delivery',\n    SHOPPING_CART: 'Shopping Cart',\n    ESTIMATE_SHIPPING_AND_TAX: 'Estimate Shipping & Tax',\n    CHECKOUT: 'Checkout',\n    ARCHIVED: 'Archived'\n  };\n  constructor(private navCtrl: NavController,\n              private navParams: NavParams,\n              private alertCtrl: AlertController,\n              private popoverCtrl: PopoverController,\n              private modalCtrl: ModalController,\n              private platform: Platform,\n              private userService: UserService,\n              private projectService: ProjectService) {\n    const self = this;\n    // Fetch current user\n    this.userService.fetchCurrentUser()\n    .then(user => {\n      if (user) {\n        self.user = user;\n        if (self.user.designer) {\n          console.log(\"current user is a designer\");\n          self.viewMode = \"DESIGNER\";\n        }\n        if (self.user.admin) {\n          console.log(\"current user is an admin\");\n          self.viewMode = \"ADMIN\";\n          self.tab = 'IN_PROGRESS';\n          self.tabs = {\n            IN_PROGRESS: 'IN PROGRESS',\n            UP_NEXT: 'UP NEXT',\n            COMPLETED: 'COMPLETED',\n            ARCHIVED: 'ARCHIVED',\n            \n          };\n        }\n        self.loadProjects();\n      } else {\n        self.navCtrl.setRoot('login');\n      }\n    });\n    this.tabs = {\n      IN_PROGRESS: 'IN PROGRESS',\n      COMPLETED: 'COMPLETED',\n    };\n  }\n\n  homePressed() {\n    let alert = this.alertCtrl.create({\n      title: 'NEW PROJECT',\n      message: 'Press start to begin a new project.',\n      buttons: \n      [{\n        text: 'CANCEL',\n        role: 'cancel',\n        handler: data => {\n          console.log('Cancel pressed');\n        }\n      },\n      {\n        text: 'START',\n        handler: data => {\n          this.navCtrl.setRoot('OnboardingPage')\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  selectedTabLink(tab) {\n    this.tab = tab;\n    this.loadProjects();\n  }\n\n  selectTab() {\n    console.log(\"Toggling tab dropdown!\");\n    var tabs = [];\n    for (var key in this.tabs) {\n      console.log(key);\n      const tab = this.tabs[key];\n      console.log(tab);\n      tabs.push(tab);\n    }\n    let popover = this.popoverCtrl.create('DropdownPage', {\n      items: tabs\n    }, \n    {\n      cssClass: 'tab-popover'\n    });\n    popover.onDidDismiss(data => {\n      if (data) {\n        this.tab = data.replace(\" \", \"_\");\n        this.loadProjects();\n      }\n    });\n    popover.present();\n  }\n\n  loadProjects() {\n    const self = this;\n    if (this.viewMode == 'CLIENT') {\n      self.fetchClientProjects()\n      .then(data => {\n        self.processProjects(data);\n      });\n    }\n    if (this.viewMode == \"DESIGNER\") {\n      console.log(\"no designer project assigment logic yet\");\n    }\n    if (this.viewMode == \"ADMIN\") {\n      self.fetchProjects()\n      .then(data => {\n        self.processProjects(data);\n      });\n    }\n  }\n\n  fetchClientProjects() {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.projectService.findByUserId(this.userService.currentUser.userId)\n      .then(data => {\n        if (this.tab == 'IN_PROGRESS') {\n          var projects = [];\n          if (!data['exception']) {\n            for (var key in data) {\n              const project = data[key];\n              const status = self.phases[project.projectStatus];\n              if (status != 'ARCHIVED') {\n                projects.push(project);\n              }\n            }\n            resolve(projects);\n          }\n        }\n        if (this.tab == 'COMPLETED') {\n          var projects = [];\n          if (!data['exception']) {\n            for (var key in data) {\n              const project = data[key];\n              const status = self.phases[project.projectStatus];\n              if (status == 'ARCHIVED') {\n                projects.push(project);\n              }\n            }\n            resolve(projects);\n          }\n        }\n      });\n    });\n  }\n\n  // TODO: implement designer project assignment in mongodb/express\n  // fetchDesignerProjects() {\n  //  return this.projectService.findByDesignerId(this.userService.currentUser.userId);\n\n\n  fetchProjects() {\n    if (this.tab == 'IN_PROGRESS')\n      return this.projectService.findByInProgress();\n    if (this.tab == 'COMPLETED')\n      return this.projectService.findByComplete();\n    if (this.tab == 'UP_NEXT')\n      return this.projectService.findByUpNext();\n    if (this.tab == 'ARCHIVED')\n      return this.projectService.findByArchived();\n  }\n\n  processProjects(data) {\n    const self = this;\n    var projects = [];\n    if (!data.exception) {\n      for (var key in data) {\n        const project = data[key];\n        project.projectTypeReadable = self.types[project.projectType]\n        project.projectStatusReadable = self.phases[project.projectStatus]\n        project.modifiedDateReadable = self.getDateStringFrom(project.modifiedDate);\n        project.endDateReadable = self.getDaysLeftStringFrom(project.endDate);\n        if (project.client) {\n          project.client.shortName = project.client.firstName;\n          if (project.client.lastName) {\n            project.client.shortName += ' ' + project.client.lastName.split('')[0] + '.';\n          }\n        }\n        projects.push(project);\n      }\n    } else {\n      console.log(data.exception);\n    }\n\n    if (projects.length > 0) {\n      self.projects = projects;\n    } else {\n      self.projects = null;\n    }\n  }\n\n  getDateStringFrom(timestamp) {\n    var todate=new Date(timestamp).getDate();\n    var tomonth=new Date(timestamp).getMonth()+1;\n    var toyear=new Date(timestamp).getFullYear();\n    var shortyear = toyear.toString().slice(2);\n    return tomonth+'/'+todate+'/'+shortyear;\n  }\n\n  getDaysLeftStringFrom(timestamp) {\n    if (timestamp) {\n      let date = new Date(timestamp);\n      date.setDate(date.getDate());\n      let now = new Date();\n      var seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n      var interval = Math.floor(seconds / 86400); // days\n      var abs = Math.abs(interval);\n      if (interval <= 0 && abs >= 0 && abs < 15)\n        return abs;\n      return 'N/A';\n    } else {\n      return 'N/A';\n    }\n  }\n\n  startProject() {\n    console.log(\"Start proj pressed\");\n    this.navCtrl.setRoot('OnboardingPage');\n  }\n\n  selectedProject(project) {\n    console.log(\"selected project with status:\");\n    console.log(project.projectStatus);\n    var page: any;\n    if (project.projectStatus == 'DETAILS')\n      page = 'details';\n    if (project.projectStatus == 'DESIGN')\n      page = 'design';\n    if (project.projectStatus == 'CONCEPTS')\n      page = 'design';\n    if (project.projectStatus == 'FLOOR_PLAN')\n      page = 'design';\n    if (project.projectStatus == 'REQUEST_ALTERNATIVES')\n      page = 'design';\n    if (project.projectStatus == 'ALTERNATIVES_READY')\n      page = 'design';\n    if (project.projectStatus == 'FINAL_DELIVERY')\n      page = 'final-delivery';\n    if (project.projectStatus == 'SHOPPING_CART')\n      page = 'final-delivery';\n    if (project.projectStatus == 'ESTIMATE_SHIPPING_AND_TAX')\n      page = 'final-delivery';\n    if (project.projectStatus == 'CHECKOUT')\n      page = 'final-delivery';\n    if (project.projectStatus == 'ARCHIVED')\n      page = 'final-delivery';\n    this.navCtrl.setRoot(page, {\n      project: project,\n      id: project.projectId\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/dashboard.ts"],"sourceRoot":""}