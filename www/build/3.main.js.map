{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"3.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, PopoverController, Platform } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service';\n\n@IonicPage({\n  name: 'profile'\n})\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  user: any;\n  editing = false;\n  oldPassword = '';\n  newPassword1 = '';\n  newPassword2 = '';\n  constructor(private navCtrl: NavController,\n              private navParams: NavParams,\n              private alertCtrl: AlertController,\n              private popoverCtrl: PopoverController,\n              private platform: Platform,\n              private userService: UserService) {\n    this.userService.fetchCurrentUser()\n    .then(user => {\n      if (user) {\n        this.user = user;\n        this.user.createDateReadable = this.getDateStringFrom(this.user.createDate);\n      } else {\n        this.navCtrl.setRoot('login');\n      }\n    });\n  }\n\n  homePressed() {\n    console.log(\"logo pressed\");\n    this.navCtrl.setRoot('Dashboard');\n  }\n\n  editToggled() {\n    console.log(\"edit toggled\");\n    if (this.editing) {\n      this.savePressed();\n    } else {\n      this.editing = !this.editing;\n    }\n  }\n\n  getDateStringFrom(timestamp) {\n    const date = new Date(timestamp);\n    date.setDate(date.getDate());\n    const string = date.toDateString();\n    const stringArr = string.split(\" \");\n    const month = stringArr[1];\n    const day = stringArr[2];\n    const year = stringArr[3];\n    var dateStr = month + ' ' + day + ', ' + year;\n    return dateStr;\n    ;\n  }\n\n  fileChanged(event) {\n    const self = this;\n    console.log(\"file changed:\");\n    const file = event.target.files[0];\n    console.log(file);\n    var reader = new FileReader();\n    reader.onload = function() {\n      var arrayBuffer = this.result,\n      array = new Uint8Array(arrayBuffer);\n      self.userService.updatePortrait(self.user, array, (data) => {\n        console.log(\"profile component received portrait data:\");\n        console.log(data);\n      });\n    }\n    reader.readAsArrayBuffer(file);\n  }\n\n  selectGender() {\n    console.log(\"select gender pressed\");\n    let popover = this.popoverCtrl.create('Dropdown', {\n      items: ['Male', 'Female']\n    });\n    popover.onDidDismiss(data => {\n      if (data) {\n        if (data == 'Male') {\n          this.user.male = true;\n        } else {\n          this.user.male = false;\n        }\n      }\n    });\n    popover.present();\n  }\n\n  savePressed() {\n    const self = this;\n    console.log(\"save pressed\");\n    this.userService.updateUser(this.user, this.oldPassword, this.newPassword1 ,this.newPassword2)\n    .then(data => {\n      console.log(\"profile component received data:\");\n      console.log(data);\n      self.editing = false;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}